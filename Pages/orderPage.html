<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <script src="https://kit.fontawesome.com/6a8815bcbd.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous"/>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../Styles/globalStyle.css" />
    <link rel="stylesheet" href="../Styles/orderPageStyle.css" />
  </head>
  <body>
    <div
      id="loader"
      class="spinner-border fs-3 text-primary col-auto m-auto"
      style="width: 5rem; height: 5rem"
      role="status"
    >
      <span class="visually-hidden">Loading...</span>
    </div>

    <div id="navbar" class="d-none"></div>

    <div id="content" class="p-5 d-none">
      <div class="container">
        <button class="btn mx-0 px-0 link-light" onclick="handleBack()">
          <i class="fa-solid fa-arrow-left me-1"></i>
          Back
        </button>
      
      <div class="container text-light" id="order-page-content">
        
        <div class="row d-flex flex-lg-row flex-column-reverse">
          <div class="col-lg-4 col-12 p-0">
            <div id="order-summary" class="p-4 border-2 h-100">
              <div class="row mb-3">
                <div class="col-12">
                  <h4 class="fw-semibold">Order Summary</h4>
                </div>
              </div>
              <div class="row mb-4 gap-1">
                <div class="col-12 d-flex justify-content-between">
                  <span>Total Items:</span>
                  <span id="num-of-items">0</span>
                </div>
                <div class="col-12 d-flex justify-content-between">
                  <span>Subtotal:</span>
                  <span>
                    $<span id="subtotal">0</span> <span id="subtotal-ils"></span>
                  </span>
                </div>
                <div class="col-12 d-flex justify-content-between">
                  <span>Shipping:</span>
                  <span id="shipping">Free</span>
                </div>
              </div>
              <div class="row mb-4">
                <div class="col-12 d-flex justify-content-between fw-semibold">
                  <span>Total:</span>
                  <span>
                    $<span id="total">0</span> <span id="ils"></span>
                  </span>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <button
                    class="btn btn-light rounded-pill w-100"
                    id="checkout-btn"
                    onclick="onCheckout()"
                  >
                    Checkout
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-12 p-0">
            <div id="shopping-cart" class="p-4">
              <div class="container-fluid">
                <div class="row mb-3">
                  <div class="col-12">
                    <h4 class="fw-semibold">Shopping Cart</h4>
                  </div>
                </div>
                <div class="row" id="cart-list">
                  <!-- JS will add the items -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
      <div id="facebook-publish-toast" class="toast" data-bs-theme="dark" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <div class="me-3"><svg width="15" height="20" viewBox="0 0 12 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2.97077C12 3.31653 12 6.08403 12 6.2841V13.1474C12 14.0229 10.1601 14.7321 9.12494 14.7321C8.08981 14.7321 7.24998 14.0229 7.24998 13.1474C7.24998 12.2719 8.08981 11.5627 9.12494 11.5627C9.34369 11.5627 9.55462 11.5944 9.74993 11.6539V4.71526L8.65897 6.5071L7.24998 9.11508L5.6587 7.01425L4.75002 5.70346V7.37884L4.75002 14.4151C4.75002 15.2906 2.9101 15.9998 1.87497 15.9998C0.839829 15.9998 0 15.2906 0 14.4151C0 13.5396 0.839829 12.8305 1.87497 12.8305C2.09371 12.8305 2.30465 12.8622 2.49996 12.9216L2.49996 5.48121C2.49996 5.34937 2.49996 4.74748 2.51663 4.16527C2.53863 3.39681 3.11384 2.85987 3.86078 2.67797L4.39622 2.54758C4.46512 2.5308 4.53646 2.52643 4.60689 2.53468V2.53468C4.85638 2.56391 5.08018 2.70195 5.21826 2.91178L5.30762 3.04756L7.00062 5.48121L8.19658 3.57962L8.75776 2.68403C9.23636 1.92023 9.66678 1.22528 10.5389 0.997594V0.997594C10.9501 0.890252 11.8142 0.600334 11.9017 1.01618C12.0004 1.48484 12 2.40508 12 2.97077Z" fill="url(#paint0_linear_270_12)"/>
            <defs>
            <linearGradient id="paint0_linear_270_12" x1="6" y1="0.736328" x2="6" y2="16.0003" gradientUnits="userSpaceOnUse">
            <stop stop-color="#00CF9D"/>
            <stop offset="1" stop-color="#00561D"/>
            </linearGradient>
            </defs>
            </svg></div>
          <strong class="me-auto text-light">Moozika</strong>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body text-light">
          You successfully published in our facebook page!
        </div>
      </div>
    </div>


      <div class="modal fade" id="checkout-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="staticBackdropLabel">Checkout</h1>
            </div>
            <div class="modal-body">
              <p>You bought the following songs: </p>
              <ul id="songs-list-modal"></ul>
              <button type="button" class="btn btn-facebook btn-primary" onclick="publishToFacebook()">Publish on Facebook</button>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" onclick="{window.location.replace(`./`)}">Back To Home</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="footer" class="d-none"></div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="../Scripts/navbar.js"></script>
    <script src="../Scripts/footer.js"></script>
    <script src="../Scripts/orderPageScript.js"></script>
    <script src="../Scripts/facebookPublish.js"></script>
  </body>
</html>
